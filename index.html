<!DOCTYPE html>
<html lang="en">

<head>
    <!--Let browser know website is optimized for mobile-->
    <meta name="viewport" content="width=device-width, initial-scale=1.0"
    charset="utf-8" />
    <title>Imgur Classifier</title>
    <!-- Vue Import-->
    <script src="https://cdn.jsdelivr.net/npm/vue/dist/vue.js"></script>
    <!--Import Google Icon Font-->
    <link href="https://fonts.googleapis.com/icon?family=Material+Icons"
    rel="stylesheet">
    <!--Import materialize.css-->
    <link type="text/css" rel="stylesheet" href="css/materialize.min.css" media="screen,projection" />
</head>
<body>
    <div class='container' id="root">
        <div class='row'>
        <div class='col s12'>
        <h1 class='center-align card-panel teal lighten-2'>Imgur Classifier</h1>
        </div>
        </div>
        <div class='row card-panel teal'>
            <div class="col s5">
                <h3>Subreddits</h3>
                <input type="text" v-model="toAdd" placeholder="to add" style="display: inline">
				<input type="submit" value="Add" @click=addSubreddit style="display: inline">
                <subreddit-template v-for="sub in subreddits" v-bind:name="sub" v-bind:key="sub"></subreddit-template>
            </div>
            <div class="col s5">
                <h3 class='left-align'>Current Status: {{guess}}</h3>
                <div class='col s6'>
                <div id="console">
                <img class="responsive-img" id="img"
                v-bind:src="image" crossorgin="Anonymous"
                width="500" height="500" />
                </div>
                </div>
                <div class='col s6'>
                    <div class="input-field left">
                        <p id="output"></p>
                        <p><input @change='onFileChange'
                        class="btn waves-effect waves-light"
                        id="input" type="file"
                        accept='image/jpeg, image/png' size="50"
                        maxlength="50" autofocus
                        value="Upload image here" /></p>
                        <!--<select class="browser-default"
                        onchange="selectChange(this)"
                        v-model:value="selected">
                        <option v-for="item in options"
                        v-bind:value="item.value">{{item.text}}</option>
                        </select>-->
                        <select class="browser-default"
                        @change='selectChange(this)'
                        v-model:value="selected">
                        <!--<option v-for="item in options"
                        v-bind:value="item.value">{{item.text}}
                        </option>-->
                        </select>
                        <span>Selected: {{ selected }}<br></span>
                        <button class="btn waves-effect waves-light"
                        type="submit" @click="create">Create</button>
                        <button class="btn waves-effect waves-light"
                        type="submit" @click='run' >Train</button>
                        <button class="btn waves-effect waves-light"
                        type="submit"
                        @click='predictImage'>Predict</button>
                        <div class="progress" :style="{'visibility': appState.hiddenVal}">
                        <div class="indeterminate"></div>
                        </div>
                        <p id="output">{{upload}}</p>
                    </div>
                </div>
            </div>
        </div>
        <canvas id="mainCanvas" width=128 height=128 style="display:none"></canvas>

    </div>
    <script type="module" src="src/main.js"></script>
    <script type="module" src="src/vue.js"></script>
    <!-- #1 - link to Firebase goes here  -->
    <script src="https://www.gstatic.com/firebasejs/7.4.0/firebase-app.js"></script>
    <script src="https://www.gstatic.com/firebasejs/7.4.0/firebase-auth.js"></script>
    <script src="https://www.gstatic.com/firebasejs/7.4.0/firebase-database.js"></script>
    <!--Tensorflow-->
    <script src="https://cdn.jsdelivr.net/npm/@tensorflow/tfjs@1.0.0/dist/tf.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/@tensorflow/tfjs-vis@1.0.2/dist/tfjs-vis.umd.min.js"></script>
    <script>
        document.onreadystatechange = loaded;
        function loaded(){
            
            console.log("document: "+document.readyState);
        }
    </script>

</body>

</html>