<!DOCTYPE html>
<html lang="en">

    <head>
        <meta charset="utf-8" />
        <title></title>

    </head>

    <body >
      <h1>ADMIN</h1>
       <div id="root">
        <h2>Epoch Chart</h2>
        <ul>
            <li v-for="(value,name) in epochHist">{{name}}: {{value}}</li>
        </ul>
        <h2>Data Amount Chart</h2>
        <ul>
            <li v-for="(value,name) in dataHist">{{name}}: {{value}}</li>
        </ul>
        <h2>Epoch Chart</h2>
        <ul>
            <li v-for="(value,name) in subHist">{{name}}: {{value}}</li>
        </ul>
        </div>
        <!-- The core Firebase JS SDK is always required and must be listed first -->
        <script
            src="https://www.gstatic.com/firebasejs/7.5.0/firebase-app.js"></script>
        <script
            src="https://www.gstatic.com/firebasejs/3.1.0/firebase-database.js"></script>
        <!-- TODO: Add SDKs for Firebase products that you want to use
     https://firebase.google.com/docs/web/setup#available-libraries -->
        <script src=src/firebase.js></script>
        <script src="https://cdn.jsdelivr.net/npm/vue/dist/vue.js"></script>
        <script>
            const app = new Vue({
                el: '#root',
                data: {
                    epochHist: {},
                    dataHist: {},
                    subHist: {}
                }
            });

            database.ref("stats").on("value",dataChanged,firebaseError);
                         
            function firebaseError(error) {
                console.log(error);
            }
            
            function dataChanged(data){
                console.log(data.val());
                app.epochHist = data.val().epochHist;
                app.dataHist = data.val().dataHist;
                app.subHist = data.val().subreddits;
                //Epochs Used
                //Data Limit Used
                //Subreddit List plus usage
            }
        </script>
    </body>

</html>